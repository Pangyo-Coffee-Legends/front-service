<!DOCTYPE html>
<html lang="ko" layout:decorate="@{/layout/index/layout.html}"xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"> <!-- layout 네임스페이스 정의 -->
<head>
    <title>근무시간 통계</title> <!-- 브라우저 탭 제목 설정 -->
</head>
<body>

<!-- Thymeleaf에서 content라는 이름으로 이 블록이 layout.html의 fragment로 삽입됨 -->
<div layout:fragment="content">

    <!-- 👤 회원 목록 섹션 -->
    <div class="container mt-4"> <!-- Bootstrap container, 상단 마진 -->
        <h4 class="mb-3">👤 회원 목록</h4> <!-- 섹션 제목 -->
        <div id="member-table-container"></div> <!-- 자바스크립트에서 동적으로 회원 테이블 삽입 -->
    </div>

    <!-- 📊 근무시간 통계 섹션 -->
    <div class="container mt-5"> <!-- 상단 마진을 더 주어 회원 목록과 구분 -->
        <h2 class="mb-4">📊 근무시간 통계</h2> <!-- 섹션 제목 -->

        <!-- 📅 날짜 필터링 (연/월/일 선택) -->
        <div class="row mb-3 align-items-end"> <!-- 하단 여백 + 항목 수직 정렬 -->
            <!-- 연도 입력 -->
            <div class="col-md-2">
                <label for="yearInput" class="form-label">연도</label>
                <input id="yearInput" class="form-control" type="number"
                       placeholder="연도를 입력하세요" min="2025" max="2200"> <!-- 유효 연도 범위 설정 -->
            </div>

            <!-- 월 선택 -->
            <div class="col-md-2">
                <label for="monthSelector" class="form-label">월</label>
                <select id="monthSelector" class="form-select">
                    <option value="">전체</option> <!-- 기본: 전체 월 선택 -->
                    <option value="1">1월</option><option value="2">2월</option><option value="3">3월</option>
                    <option value="4">4월</option><option value="5">5월</option><option value="6">6월</option>
                    <option value="7">7월</option><option value="8">8월</option><option value="9">9월</option>
                    <option value="10">10월</option><option value="11">11월</option><option value="12">12월</option>
                </select>
            </div>

            <!-- 일 선택 (월 변경 시 일수 자동 갱신) -->
            <div class="col-md-2">
                <label for="daySelector" class="form-label">일</label>
                <select id="daySelector" class="form-select">
                    <option value="">전체</option> <!-- 전체 일 선택 -->
                </select>
            </div>

            <!-- 조회 버튼 -->
            <div class="col-md-1">
                <button id="searchBtn" class="btn btn-primary btn-sm">조회</button>
            </div>
        </div>

        <!-- ✅ 근태 상태 필터링 체크박스 그룹 -->
        <div class="row mb-2">
            <div class="col-md-12 d-flex flex-wrap gap-2 align-items-center" id="status-checkbox-group">
                <!-- 아래 항목은 자바스크립트에서 '모두' 항목이 prepend로 추가됨 -->
                <!-- 개별 상태 체크박스 -->
                <label><input type="checkbox" value="2"> <span class="legend-box status-warning"></span> 지각</label>
                <label><input type="checkbox" value="3"> <span class="legend-box status-danger"></span> 결석</label>
                <label><input type="checkbox" value="4"> <span class="legend-box status-blue"></span> 외출</label>
                <label><input type="checkbox" value="5"> <span class="legend-box status-purple"></span> 휴가</label>
                <label><input type="checkbox" value="6"> <span class="legend-box status-green"></span> 질병</label>
                <label><input type="checkbox" value="7"> <span class="legend-box status-orange"></span> 조퇴</label>
                <label><input type="checkbox" value="8"> <span class="legend-box status-pink"></span> 기타</label>

                <!-- 상태 필터 조회 버튼 -->
                <button id="statusSearchBtn" class="btn btn-outline-primary btn-sm ms-3">근태 필터 조회</button>
            </div>
        </div>

        <!-- 📊 통계 차트 및 표 영역 -->
        <div class="row">
            <!-- 차트 영역: 좌측 7컬럼 -->
            <div class="col-md-7">
                <div id="attendance-chart-container"></div> <!-- 자바스크립트로 차트 삽입 -->
            </div>

            <!-- 표 영역: 우측 5컬럼 -->
            <div class="col-md-5">
                <div id="attendance-table-container"></div> <!-- 자바스크립트로 표 삽입 -->
            </div>
        </div>
    </div>
</div>
</body>
</html>
